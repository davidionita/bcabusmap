<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>BCABus Map</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!--Google Maps API-->

    <div id="map"></div>

    <script>
        function initMap() {
            // Create a map object and specify the DOM element for display.
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 40.900572, lng: -74.033430},
                // Set mapTypeId to SATELLITE in order
                // to activate satellite imagery.
                mapTypeId: 'satellite',
                zoom: 19
            });
        }

    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAq2IohIpGlAaHn9fsxI0Gqzk7rWBvhtss&callback=initMap"
            async defer></script>

    <!--Google Sheets API-->

    <script src="https://apis.google.com/js/api.js"></script>

    <script>
        function loadClient() {
            gapi.client.setApiKey("AIzaSyAq2IohIpGlAaHn9fsxI0Gqzk7rWBvhtss");
            return gapi.client.load("https://content.googleapis.com/discovery/v1/apis/sheets/v4/rest")
                .then(function() {
                    console.log("GAPI client loaded for API");
                }, function(error) {
                    console.error("Error loading GAPI client for API");
                });
        }
        // Make sure the client is loaded before calling this method.
        function execute() {
            return gapi.client.sheets.spreadsheets.get({
                "spreadsheetId": "1-0WV-jPKdRStzM6U0XbLKexWPrlK-c9hAWgaVQMhKks",
                "includeGridData": "true",
                "ranges": [
                    "A2:B24",
                    "C2:D25"
                ]
            })
                .then(function(response) {
                    // Handle the results here (response.result has the parsed body).
                    console.log("Response", response);
                }, function(error) {
                    console.error("Execute error", error);
                });
        }
        gapi.load("client");
    </script>

    <button onclick="loadClient()">load</button>
    <button onclick="execute()">execute</button>
    <button onclick="initMap()">refresh</button>


</body>
</html>